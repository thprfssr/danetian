\documentclass[twocolumn,a5paper]{article}
\title{Dictionariom Danetiskas Danvas}
\author{Saverios Castro}
\date{29 martiosjo 2021}



\usepackage{microtype} % Improves spacing
%\usepackage[top=4em,bottom=5em,left=3em,right=3em,columnsep=24pt]{geometry} % Document margins and spacings

\usepackage{ebgaramond}

\usepackage{fontspec}
\usepackage{xunicode}
\usepackage{xltxtra}
%\setmainfont{SBL_BLit.ttf}
%\setmainfont{CharisSIL}
%\setmainfont{DoulosSIL}
%\usepackage{tgpagella}
%\usepackage{crimson}
%\setmainfont{Century Gothic}

\usepackage{parskip}

\newfontfamily\ipafont{CharisSIL}
\newfontfamily\greekfont{SBL_BLit.ttf}
\newfontfamily\arabicfont[Script=Arabic]{Noto Naskh Arabic}
%\newfontfamily\cyrillicfont{CharisSIL}
%\newfontfamily\keyfont{Warownia.otf}

{% raw %}
\newcommand{\ipa}[1]{{\ipafont\textit{#1}}}
\newcommand{\gr}[1]{{\greekfont #1}}
\newcommand{\arab}[1]{{\arabicfont #1}}
\newcommand{\cyr}[1]{{\ipafont\textit{#1}}}
\newcommand{\key}[1]{{\textbf{#1}}}
{% endraw %}

\begin{document}
\maketitle

{% for entry in dictionary %}
	{% assign u = 0 %}

	{% if entry.parts == '' %}
		\key{ {{- entry.key -}}.}
	{%- else -%}
		\key{ {{- entry.key -}},}
		\textit{ {{- entry.parts -}}.}
	{%- endif -%}

	{% raw %} {% endraw %}

	{%- if entry.ety != '' -%}
		{\footnotesize ({{- entry.ety -}}).}
	{%- endif -%}

	{%- assign L = entry.definitions | size -%}
	{%- if L == 1 -%}
		{% raw %} {% endraw %}{{ entry.definitions[0].typ }}.
		{%- if entry.definitions[0]['tag'] != '' -%}
			{\footnotesize \textit{ {{ entry.definitions[0]['tag'] }}.}}
		{%- endif -%}
		{% raw %} {% endraw %}{{ entry.definitions[0].def }}.
		{%- if entry.definitions[0]['ex'] != '' -%}
			{% raw %} {% endraw %}{\footnotesize {{ entry.definitions[0]['ex'] }}.}
		{%- endif -%}
	{%- else -%}
		{%- assign i = 0 -%}
		{%- assign typ = entry.definitions[0].typ -%}
		{% raw %} {% endraw %}{{ typ }}.
		{%- for item in entry.definitions -%}
			{%- assign newtyp = item.typ -%}
			{%- if newtyp != typ -%}
				{%- assign typ = newtyp -%}
				{% raw %} {% endraw %}{{ typ }}.
			{%- endif -%}
			{% assign i = i | plus: 1 %}
			\textbf{ {{- i -}}.}
			{%- if item.tag != '' -%}
				{\footnotesize \textit{ {{ item.tag }}.}}
			{%- endif -%}

			{% raw %} {% endraw %}{{ item.def }}.

			{%- if item.ex != '' -%}
				{\footnotesize {{ item.ex }}.}
			{%- endif -%}
		{%- endfor -%}
	{%- endif -%}
{% endfor %}

\onecolumn
\section*{Senti soi {{ dictionary | size }} verd√≥m!}

\end{document}
